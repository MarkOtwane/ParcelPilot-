<div class="metrics" *ngIf="!isLoading; else loading">
  <h2>System Metrics</h2>

  <div class="metrics-cards">
    <div class="metric-card">
      <h4>Total Users</h4>
      <p>{{ stats?.users }}</p>
    </div>
    <div class="metric-card">
      <h4>Total Parcels</h4>
      <p>{{ stats?.parcels }}</p>
    </div>
    <div class="metric-card">
      <h4>Total Payments</h4>
      <p>KES {{ stats?.totalPayments | number }}</p>
    </div>
  </div>

  <div class="chart-section">
    <h3>Parcel Status Distribution</h3>
    <canvas baseChart
      [data]="pieChartData"
      [labels]="pieChartLabels"
      [type]="pieChartType">
    </canvas>
  </div>
</div>

<ng-template #loading>
  <p>Loading metrics...</p>
</ng-template>
